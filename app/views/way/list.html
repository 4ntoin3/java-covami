#{extends 'main.html' /}
#{set title: play.i18n.Messages.get('title.way') /}
#{set subtitle: play.i18n.Messages.get('subtitle.way') /}
#{set 'moreStyles'}
#{stylesheet 'way.css' /}
#{/set}

<div class="rightTopButtonBox">
    <button class="addButton withPix pix16_way_add">&{'btn.add.way'}</button>
    <button class="searchButton withPix pix16_way_search">&{'btn.search.way'}</button>
    <div style="clear: both;"></div>
</div>

<h2>&#9733; &{'way.my_futur_driver_way'}</h2>
#{if ways.size == 0}
<div class="empty_add_first">
    &{'way.empty'}.<br/>
    <a href="@{way.add}">&{'way.add_first'}!</a>
</div>
#{/if}
#{else}
#{list items:ways, as:'way'}
<div class="way">
    <div class="description">
        <h4>${way.startCity.name} => ${way.finishCity.name}</h4>
        <p>${way.dateHourStart.getTime().asdate('dd/MM/yyyy HH:mm')}</p>
        <p>${way.cost} € / personne</p>
        <p>${way.placeRemain()} &{'way.place_restante'} / ${way.placeAvailable}</p>
        <a href="@{way.details(way.id)}" title="&{'way.detail_me'}">
            <img src="@{'public/images/icons/24/detail.png'}" alt="&{'way.detail_me'}" />
        </a>
        <a href="@{way.edit(way.id)}" title="&{'way.edit_me'}">
            <img src="@{'public/images/icons/24/edit.png'}" alt="&{'way.edit_me'}" />
        </a>
        <a href="@{way.cancel(way.id)}" title="&{'way.cancel_me'}" class="delete_confirmation">
            <img src="@{'public/images/icons/24/delete.png'}" alt="&{'way.delete_me'}" />
        </a>
    </div>
    <div class="clear"></div>
</div>
#{/list}
#{/else}
<div class="clear"></div>
<h2>&#9733; &{'way.my_futur_participate_way'}</h2>
#{if ways_participation.size == 0}
<div class="empty_add_first">
    &{'way.empty'}.
</div>
#{/if}
#{else}
#{list items:ways_participation, as:'way_participation'}
<div class="way">
    <div class="description">
        <h4>${way_participation.way.startCity.name} => ${way_participation.way.finishCity.name}</h4>
        <p>${way_participation.way.dateHourStart.getTime().asdate('dd/MM/yyyy HH:mm')}</p>
        <p>${way_participation.way.cost} € / personne</p>
        <p>${way_participation.way.placeRemain()} &{'way.place_restante'} / ${way_participation.way.placeAvailable}</p>
        <a href="@{way.details(way_participation.way.id)}" title="&{'way.detail_me'}">
            <img src="@{'public/images/icons/24/detail.png'}" alt="&{'way.detail_me'}" />
        </a>
        <a href="@{WayParticipation.cancel(way_participation.way.id)}" title="&{'way.cancel_me'}">
            <img src="@{'public/images/icons/24/cancel_participation.png'}" alt="&{'cancel_mecancel_me'}" />
        </a>
    </div>
    <div class="clear"></div>
</div>
#{/list}
#{/else}
<div class="clear"></div>
