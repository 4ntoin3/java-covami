#{extends 'main.html' /}
#{set title: play.i18n.Messages.get('title.car.edit') /}
#{set subtitle: play.i18n.Messages.get('subtitle.car.edit') /}

<div class="mainForm">
#{form @car.editCar(car.id)}

    #{ifErrors}
    <p class="main_error">
       &{'errors'} : &{'error.cant_continue'}
    </p>
    #{/ifErrors}

    <label for="fieldCarname">&{'car.name'}</label>
    <div class="formField">
        #{if flash['car.name'] == null}
        <input type="text" name="car.name" id="fieldCarname" value="${car.name}"/>        
        #{/if}
        #{else}
        <input type="text" name="car.name" id="fieldCarname" value="${flash['car.name']}"/>
        #{/else}
        <p class="error">#{error 'car.name' /}</p>
    </div>
    
    <label for="fieldCarcapacity">&{'car.available_place'}</label>
    <div class="formField">
        #{if flash['car.nbPlace'] == null}
        <select name="car.nbPlace" id="fieldCarcapacity"/>
        #{list items:1..8, as:'i'}
            <option value=${i} #{if "${car.nbPlace}"=="${i}"}selected#{/if}>${i}</option>
        #{/list}
        </select>
        <p class="message">&{'car.without_driver'}. &{'general.default_value'}, &{'car.edit_for_each_way'}.</p>
        #{/if}
        #{else}
        <select name="car.nbPlace" id="fieldCarcapacity"/>
        #{list items:1..8, as:'i'}
            <option value=${i} #{if flash["car.nbPlace"]=="${i}"}selected#{/if}>${i}</option>
        #{/list}
        </select>
        <p class="message">&{'car.without_driver'}. &{'general.default_value'}, &{'car.edit_for_each_way'}.</p>
        #{/else}
    </div>
    
    <label for="fieldCarconsomation">&{'car.estimated_consommation'}</label>
    <div class="formField">
        #{if flash['car.cost'] == null}
        <input type="text" name="car.cost" id="fieldCarconsomation" value="${car.cost}"/>        
        #{/if}
        #{else}
        <input type="text" name="car.cost" id="fieldcost" value="${flash['car.cost']}"/>
        #{/else}
        <p class="message">&{'car.litreAuCent'}.</p>
        <p class="error">#{error 'car.cost' /}</p>
    </div>          

    <div class="fieldButtonValidation">
        <button type="button" name="btnCancel" class="cancelButton withPix pix16_cancel">&{'btn.annuler'}</button>
        <button type="submit" name="btnValidation" class="withPix pix16_valid">&{'btn.valider'}</button>
        <div class="clear"></div>
    </div>

    <div class="clear"></div>
    #{/form}
</div>
<p></p>
