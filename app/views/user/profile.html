#{extends 'main.html' /}
#{set title: play.i18n.Messages.get('title.profile') /}
#{set subtitle: play.i18n.Messages.get('subtitle.profile') /}

<div class="mainForm">
    #{form @User.editProfile()}
    #{ifErrors}
    <p class="main_error">
       &{'errors'} : &{'error.cant_continue'}
    </p>
    #{/ifErrors}

    <label for="fieldEmail">&{'user.email'}</label>
    <div class="formField labelLine">
        ${user.email}
    </div>

    <label for="fieldPassword">&{'user.password'}</label>
    <div class="formField">
        #{if flash['user.password'] == null}
        <input type="password" name="user.password" id="fieldPassword" value="${user.password}"/>        
        #{/if}
        #{else}
        <input type="password" name="user.password" id="fieldPassword" value="${flash['user.password']}"/>
        #{/else}
        <p class="error">#{error 'user.password' /}</p>
    </div>

    <label for="fieldFirstname">&{'user.firstname'}</label>
    <div class="formField">
        #{if flash['user.email'] == null}
        <input type="text" name="user.firstname" id="fieldFirstname" value="${user.firstname}"/>        
        #{/if}
        #{else}
        <input type="text" name="user.firstname" id="fieldFirstname" value="${flash['user.firstname']}"/>
        #{/else}
        <p class="error">#{error 'user.firstname' /}</p>
    </div>

    <label for="fieldLastname">&{'user.lastname'}</label>
    <div class="formField">
        #{if flash['user.email'] == null}
        <input type="text" name="user.lastname" id="fieldLastname" value="${user.lastname}"/>        
        #{/if}
        #{else}
        <input type="text" name="user.lastname" id="fieldLastname" value="${flash['user.lastname']}"/>
        #{/else}
        <p class="error">#{error 'user.lastname' /}</p>
    </div>

    <div class="fieldButtonValidation">
        <button type="button" name="btnCancel" class="cancelButton withPix pix16_cancel">&{'btn.annuler'}</button>
        <button type="submit" name="btnValidation" class="withPix pix16_valid">&{'btn.valider'}</button>
        <div class="clear"></div>
    </div>

    <div class="clear"></div>
    #{/form}
</div>
<p></p>
